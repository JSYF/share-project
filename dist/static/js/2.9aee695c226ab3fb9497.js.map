{"version":3,"sources":["webpack:///./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/_core-js@2.6.5@core-js/library/fn/array/from.js","webpack:///./node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/toConsumableArray.js","webpack:///./node_modules/_core-js@2.6.5@core-js/library/fn/json/stringify.js","webpack:///./node_modules/_core-js@2.6.5@core-js/library/modules/_create-property.js","webpack:///src/pages/poster_form/index.vue","webpack:///./src/pages/poster_form/index.vue?f80b","webpack:///./src/pages/poster_form/index.vue","webpack:///./node_modules/_core-js@2.6.5@core-js/library/modules/es6.array.from.js","webpack:///./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/array/from.js","webpack:///./static/images/unfold.png"],"names":["module","exports","default","__webpack_require__","__esModule","Array","from","obj","_from","_from2","arr","isArray","i","arr2","length","core","$JSON","JSON","stringify","it","apply","arguments","$defineProperty","createDesc","object","index","value","f","poster_form","data","show","formData","student_name","phone","remark","grade","subject","campus","showOptions","has_campus","has_comment","has_grade","has_mobile","has_name","has_subject","formOptions","title","type","actions","components","van-actionsheet","Actionsheet","van-icon","Icon","van-field","Field","created","console","log","this","$route","form_id","query","getPageData","methods","formValidate","err","assign_default","$toast","fail","_this","id","Object","api","then","res","key","user_id","_key","submit","_this2","params","stringify_default","success","catch","showAction","onSelect","checkboxClick","currentData","subjects","concat","toConsumableArray_default","indexOf","splice","push","pages_poster_form","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","directives","name","rawName","expression","modifiers","lazy","attrs","placeholder","maxlength","domProps","on","change","$event","$set","target","_e","max","click","src","_l","item","class","select","model","callback","$$v","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","ctx","$export","toObject","call","isArrayIter","toLength","createProperty","getIterFn","S","F","iter","arrayLike","result","step","iterator","O","C","aLen","mapfn","undefined","mapping","iterFn","next","done"],"mappings":"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","file":"static/js/2.9aee695c226ab3fb9497.js","sourcesContent":["module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/json/stringify.js\n// module id = 3cXf\n// module chunks = 2","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_core-js@2.6.5@core-js/library/fn/array/from.js\n// module id = FCbr\n// module chunks = 2","\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return (0, _from2.default)(arr);\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/toConsumableArray.js\n// module id = IHPB\n// module chunks = 2","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_core-js@2.6.5@core-js/library/fn/json/stringify.js\n// module id = NUnD\n// module chunks = 2","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_core-js@2.6.5@core-js/library/modules/_create-property.js\n// module id = UJ2L\n// module chunks = 2","<template>\r\n  <div class=\"parent_form\">\r\n    <div class=\"page_title\">{{title}}</div>\r\n    <div class=\"form\">\r\n      <div class=\"form_item\" v-if=\"showOptions.has_name == 1\">\r\n        <span class=\"title\">姓名</span>\r\n        <div class=\"form_component\">\r\n          <input type=\"text\" v-model.lazy=\"formData.student_name\" placeholder=\"输入姓名\" maxlength=\"8\">\r\n        </div>\r\n      </div>\r\n      <div class=\"form_item\" v-if=\"showOptions.has_mobile == 1\">\r\n        <span class=\"title\">手机号</span>\r\n        <div class=\"form_component\">\r\n          <input\r\n            type=\"number\"\r\n            v-model.lazy=\"formData.phone\"\r\n            placeholder=\"输入手机号\"\r\n            maxlength=\"11\"\r\n            max=\"11\"\r\n          >\r\n        </div>\r\n      </div>\r\n      <div class=\"form_item\" v-if=\"showOptions.has_grade == 1\">\r\n        <span class=\"title\">年级</span>\r\n        <div class=\"form_component\">\r\n          <button @click=\"showAction('grade')\">\r\n            {{formData.grade[0] ? formData.grade[0].name : '选择年级'}}\r\n            <img class=\"icon\" src=\"../../../static/images/unfold.png\">\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"subject_group\" v-if=\"showOptions.has_subject == 1\">\r\n        <p class=\"title\">选择科目</p>\r\n        <div class=\"check_group\">\r\n          <div\r\n            class=\"checkbox_item\"\r\n            @click=\"checkboxClick(item)\"\r\n            v-for=\"item in formOptions.subject\"\r\n            :key=\"item.id\"\r\n          >\r\n            <div\r\n              class=\"checkbox\"\r\n              :class=\"formData.subject.indexOf(item.id) !== -1 ? 'checkbox_active': ''\"\r\n            >\r\n              <van-icon name=\"success\"></van-icon>\r\n            </div>\r\n            <span>{{item.name}}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"form_item\" v-if=\"showOptions.has_campus == 1\">\r\n        <span class=\"title\">校区</span>\r\n        <div class=\"form_component\">\r\n          <button @click=\"showAction('campus')\">\r\n            {{formData.campus[0] ? formData.campus[0].name : '选择校区'}}\r\n            <img class=\"icon\" src=\"../../../static/images/unfold.png\">\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"form_item\" v-if=\"showOptions.has_comment == 1\">\r\n        <span class=\"title\">备注</span>\r\n        <div class=\"form_component\">\r\n          <input type=\"text\" v-model.lazy=\"formData.remark\" placeholder=\"输入备注\" maxlength=\"20\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <van-actionsheet v-model=\"show\" :actions=\"actions\" @select=\"onSelect\"/>\r\n\r\n    <div class=\"bottom\" @click=\"submit\">提交</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getPosterForm, submitPosterForm } from \"@/api/index.js\";\r\n// import Actionsheet from \"vant/lib/actionsheet\";\r\n// import Field from \"vant/lib/field\";\r\n// import Icon from \"vant/lib/icon\";\r\n// import \"vant/lib/actionsheet/style\";\r\n// import \"vant/lib/icon/style\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      show: false,\r\n      formData: {\r\n        student_name: \"\",\r\n        phone: \"\",\r\n        remark: \"\",\r\n        grade: [],\r\n        subject: [],\r\n        campus: []\r\n\t\t\t},\r\n\t\t\tshowOptions: {\r\n\t\t\t\thas_campus: \"0\", // 校区\r\n\t\t\t\thas_comment: \"0\", // 备注\r\n\t\t\t\thas_grade: \"0\", // 年级\r\n\t\t\t\thas_mobile: \"0\", // 电话\r\n\t\t\t\thas_name: \"0\", // 姓名\r\n\t\t\t\thas_subject: \"0\" // 学科\r\n      },\r\n      formOptions: {\r\n        grade: [],\r\n        subject: [],\r\n        campus: []\r\n      },\r\n      title: \"\",\r\n      type: \"\",\r\n      actions: []\r\n    };\r\n  },\r\n  components: {\r\n    \"van-actionsheet\": Actionsheet,\r\n    \"van-icon\": Icon,\r\n    \"van-field\": Field\r\n  },\r\n  created() {\r\n    console.log(this.$route);\r\n    this.form_id = this.$route.query.form_id;\r\n    this.getPageData();\r\n  },\r\n  methods: {\r\n    formValidate () {\r\n      let err = \"\"\r\n      let formData = Object.assign({}, this.formData)\r\n      let formOptions = Object.assign({}, this.showOptions)\r\n      if (!formData.student_name) {\r\n        err = \"请填写学生姓名\"\r\n      } else if (formData.phone.length !== 11) {\r\n        err  = \"请填写11位电话号码\"\r\n      } else if (formOptions.has_subject == 1 && !formData.subject.length) {\r\n        err = \"请选择科目\"\r\n      } else if (formOptions.has_campus == 1 && !formData.campus.length) {\r\n        err = \"请选择校区\"\r\n      } else if (formOptions.has_grade == 1 && !formData.grade.length) {\r\n        err = \"请选择年级\"\r\n      }\r\n      if (err.length) {\r\n        this.$toast.fail(err)\r\n        return false\r\n      } else {\r\n        return true\r\n      }\r\n    },\r\n    getPageData() {\r\n      let id = this.form_id;\r\n      getPosterForm({ id }).then(res => {\r\n        console.log(res);\r\n        this.user_id = res.data.user_id\r\n        this.title = res.data.title;\r\n        for (let key in this.formOptions) {\r\n          this.formOptions[key] = res.data[key];\r\n\t\t\t\t}\r\n\t\t\t\tfor (let key in this.showOptions) {\r\n\t\t\t\t\tthis.showOptions[key] = res.data[key]\r\n        }\r\n      });\r\n    },\r\n    submit() {\r\n      if (!this.formValidate()) return\r\n\t\t\tlet formData = this.formData;\r\n\t\t\tlet grade = formData.grade[0] ? [formData.grade[0].id] : []\r\n\t\t\tlet campus = formData.campus[0] ? [formData.campus[0].id] : []\r\n\t\t\tlet subject = formData.subject.length ? formData.subject : []\r\n      let params = {\r\n        user_id: this.user_id,\r\n        form_id: this.form_id,\r\n        student_name: formData.student_name,\r\n        phone: formData.phone,\r\n        remark: formData.remark,\r\n        grade: JSON.stringify(grade),\r\n        campus: JSON.stringify(campus),\r\n        subject: JSON.stringify(formData.subject)\r\n      };\r\n      submitPosterForm(params)\r\n        .then(res => {\r\n          this.$toast.success(\"提交成功\");\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n          this.$toast.fail(\"提交失败,\" + err);\r\n        });\r\n    },\r\n    showAction(type) {\r\n      this.type = type;\r\n      this.actions = this.formOptions[type];\r\n      this.show = true;\r\n    },\r\n    onSelect(data) {\r\n      console.log(data);\r\n      this.formData[this.type][0] = data;\r\n      this.show = false;\r\n    },\r\n    checkboxClick(currentData) {\r\n      console.log(currentData);\r\n      let subjects = [...this.formData.subject];\r\n      let index = subjects.indexOf(currentData.id);\r\n      if (index !== -1) {\r\n        subjects.splice(index, 1);\r\n      } else {\r\n        subjects.push(currentData.id);\r\n      }\r\n      this.formData.subject = subjects;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.parent_form {\r\n  height: 100vh;\r\n  border: 1px solid transparent;\r\n  color: #333333;\r\n  box-sizing: border-box;\r\n  overflow: hidden;\r\n\r\n  .page_title {\r\n    font-size: 44px;\r\n    font-weight: bold;\r\n    color: #333333;\r\n    padding: 20px 0 28px 40px;\r\n    border-bottom: 2px solid #f6f6f6;\r\n  }\r\n\r\n  .bottom {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100px;\r\n    line-height: 100px;\r\n    color: #fff;\r\n    text-align: center;\r\n    font-size: 32px;\r\n    background-color: #333333;\r\n  }\r\n\r\n  .form {\r\n    .subject_group {\r\n      border-bottom: 2px solid #f6f6f6;\r\n      padding: 30px 100px 28px 30px;\r\n\r\n      .title {\r\n        font-size: 28px;\r\n        margin-bottom: 36px;\r\n      }\r\n\r\n      .check_group {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n\r\n        .checkbox_item {\r\n          display: flex;\r\n          align-items: center;\r\n          margin-right: 47px;\r\n          margin-bottom: 30px;\r\n\r\n          .checkbox {\r\n            width: 40px;\r\n            height: 40px;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            background-color: #f6f6f6;\r\n            margin-right: 21px;\r\n            border-radius: 4px;\r\n            font-size: 30px;\r\n            color: #999;\r\n          }\r\n\r\n          .checkbox_active {\r\n            color: #fff;\r\n            background-color: #333;\r\n          }\r\n\r\n          span {\r\n            font-size: 28px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .checkbox_group {\r\n      border-bottom: 2px solid #f6f6f6;\r\n      font-family: PingFang-SC-Medium;\r\n      font-size: 28px;\r\n      color: #333333;\r\n      padding: 30px 40px;\r\n    }\r\n\r\n    .form_item {\r\n      padding: 0 40px;\r\n      box-sizing: border-box;\r\n      height: 100px;\r\n      border-bottom: 2px solid #f6f6f6;\r\n      display: flex;\r\n      align-items: center;\r\n      font-family: PingFang-SC-Medium;\r\n      font-size: 28px;\r\n      color: #333333;\r\n\r\n      .title {\r\n        flex: 1;\r\n        text-align: left;\r\n      }\r\n\r\n      .form_component {\r\n        flex: 1;\r\n        text-align: right;\r\n        input {\r\n          height 40px\r\n          text-align: right;\r\n        }\r\n\r\n        button {\r\n          color: #999;\r\n          padding 0\r\n          .icon {\r\n            width: 32px;\r\n            height: 32px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/poster_form/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"parent_form\"},[_c('div',{staticClass:\"page_title\"},[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('div',{staticClass:\"form\"},[(_vm.showOptions.has_name == 1)?_c('div',{staticClass:\"form_item\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"姓名\")]),_vm._v(\" \"),_c('div',{staticClass:\"form_component\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.formData.student_name),expression:\"formData.student_name\",modifiers:{\"lazy\":true}}],attrs:{\"type\":\"text\",\"placeholder\":\"输入姓名\",\"maxlength\":\"8\"},domProps:{\"value\":(_vm.formData.student_name)},on:{\"change\":function($event){return _vm.$set(_vm.formData, \"student_name\", $event.target.value)}}})])]):_vm._e(),_vm._v(\" \"),(_vm.showOptions.has_mobile == 1)?_c('div',{staticClass:\"form_item\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"手机号\")]),_vm._v(\" \"),_c('div',{staticClass:\"form_component\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.formData.phone),expression:\"formData.phone\",modifiers:{\"lazy\":true}}],attrs:{\"type\":\"number\",\"placeholder\":\"输入手机号\",\"maxlength\":\"11\",\"max\":\"11\"},domProps:{\"value\":(_vm.formData.phone)},on:{\"change\":function($event){return _vm.$set(_vm.formData, \"phone\", $event.target.value)}}})])]):_vm._e(),_vm._v(\" \"),(_vm.showOptions.has_grade == 1)?_c('div',{staticClass:\"form_item\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"年级\")]),_vm._v(\" \"),_c('div',{staticClass:\"form_component\"},[_c('button',{on:{\"click\":function($event){return _vm.showAction('grade')}}},[_vm._v(\"\\n          \"+_vm._s(_vm.formData.grade[0] ? _vm.formData.grade[0].name : '选择年级')+\"\\n          \"),_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"../../../static/images/unfold.png\")}})])])]):_vm._e(),_vm._v(\" \"),(_vm.showOptions.has_subject == 1)?_c('div',{staticClass:\"subject_group\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"选择科目\")]),_vm._v(\" \"),_c('div',{staticClass:\"check_group\"},_vm._l((_vm.formOptions.subject),function(item){return _c('div',{key:item.id,staticClass:\"checkbox_item\",on:{\"click\":function($event){return _vm.checkboxClick(item)}}},[_c('div',{staticClass:\"checkbox\",class:_vm.formData.subject.indexOf(item.id) !== -1 ? 'checkbox_active': ''},[_c('van-icon',{attrs:{\"name\":\"success\"}})],1),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.name))])])}),0)]):_vm._e(),_vm._v(\" \"),(_vm.showOptions.has_campus == 1)?_c('div',{staticClass:\"form_item\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"校区\")]),_vm._v(\" \"),_c('div',{staticClass:\"form_component\"},[_c('button',{on:{\"click\":function($event){return _vm.showAction('campus')}}},[_vm._v(\"\\n          \"+_vm._s(_vm.formData.campus[0] ? _vm.formData.campus[0].name : '选择校区')+\"\\n          \"),_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"../../../static/images/unfold.png\")}})])])]):_vm._e(),_vm._v(\" \"),(_vm.showOptions.has_comment == 1)?_c('div',{staticClass:\"form_item\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"备注\")]),_vm._v(\" \"),_c('div',{staticClass:\"form_component\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.formData.remark),expression:\"formData.remark\",modifiers:{\"lazy\":true}}],attrs:{\"type\":\"text\",\"placeholder\":\"输入备注\",\"maxlength\":\"20\"},domProps:{\"value\":(_vm.formData.remark)},on:{\"change\":function($event){return _vm.$set(_vm.formData, \"remark\", $event.target.value)}}})])]):_vm._e()]),_vm._v(\" \"),_c('van-actionsheet',{attrs:{\"actions\":_vm.actions},on:{\"select\":_vm.onSelect},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}}),_vm._v(\" \"),_c('div',{staticClass:\"bottom\",on:{\"click\":_vm.submit}},[_vm._v(\"提交\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-392e1c27\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/poster_form/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-392e1c27\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-392e1c27\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-392e1c27\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/poster_form/index.vue\n// module id = null\n// module chunks = ","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_core-js@2.6.5@core-js/library/modules/es6.array.from.js\n// module id = kUHi\n// module chunks = 2","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/array/from.js\n// module id = kfHR\n// module chunks = 2","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAClUlEQVR4Xu2YzXHbMBCFFzyIx7gDxxXEriByB3YFMS9a6JSUkFSQ+ERCFzkVJB3EriBOBXY68FU6EBlkQA9MixyCxA9nsDoDu/s+vF0IZJD4jyWuHwgAOSBxAtQCiRuAhiC1ALVA4gSoBRI3AN0C1ALUAokToBZI3AB0C1AL2LTAZrM5lVL+0nsKRPxps9/X2rIsr7Is+zqmLisHVFX1wBh7awi5jA1Bi982NUkpHznnJ0NhWwEQQjwCwLER/Ikxdr5are6HJnS5ri1ex/6LiOYh9aa0BXABAD9aEaNA0O34+4A6K1daAVDJOqgHhWDMoiMTQF3XxXq9vrFxmTUAFVwI8QkAmqHzP5/qvTzPz4qieLIpwHatS/Eq9ygAGoIi/aEl4H6xWJz7guBa/CQAoSH4ED8ZQB8ERDyztXfXel/inQDQEG4B4L0pQEp5wzkvpkLoEi+lvOacq1k06Td6BphZt9vt0W63u2WMvXMJoUs8AHxHxKtJyvVmJwBULNcQVLz9fv8AAC+uOpfinbVAcxJdEADgCyJ+HnpiWrx6c5y29jg7+SauMwc0AbVt1Ux4YxY/9E9KSPHOHTAVQmjx3gCowLZOiCHeKwAVvCzLZZZlzfeDxiCv3g2xxHsHoCGojxXP73VN4RlCj/g7RFwOHZxj1zkfgocK6XpB1nV9qb/kvJj2Uso/eZ4vfb0pzBqDAOhxwiteIcUHaQFTYVVV3xhjH7vsGlp8cAAqoRDi0DNafU8IZvsoLWAmbUOIJT6KAxoQDYSY4qMCUMnVFRhi0vddkcFugbH3tO99BMA34bnHJwfM/YR810cO8E147vHJAXM/Id/1kQN8E557fHLA3E/Id33kAN+E5x6fHDD3E/JdX/IO+Af3OmdQY77oTwAAAABJRU5ErkJggg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/images/unfold.png\n// module id = nK/p\n// module chunks = 2"],"sourceRoot":""}