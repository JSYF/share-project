webpackJsonp([2],{"2n62":function(t,e){},"3cXf":function(t,e,i){t.exports={default:i("NUnD"),__esModule:!0}},"5C2I":function(t,e,i){"use strict";e.__esModule=!0,e.default=void 0;var s=i("clVn"),n=i("a1mP"),a=(0,s.use)("popup"),o=a[0],r=a[1],l=o({mixins:[n.PopupMixin],props:{position:String,transition:String,overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},render:function(t){var e,i=this;if(this.shouldRender){var s=this.position,n=function(t){return function(){return i.$emit(t)}};return t("transition",{attrs:{name:this.transition||(s?"van-popup-slide-"+s:"van-fade")},on:{afterEnter:n("opened"),afterLeave:n("closed")}},[t("div",{directives:[{name:"show",value:this.value}],class:r((e={},e[s]=s,e))},[this.slots()])])}}});e.default=l},Ac1I:function(t,e,i){"use strict";e.__esModule=!0,e.cellProps=void 0;var s={icon:String,size:String,center:Boolean,isLink:Boolean,required:Boolean,titleClass:null,valueClass:null,labelClass:null,title:[String,Number],value:[String,Number],label:[String,Number],border:{type:Boolean,default:!0}};e.cellProps=s},FCbr:function(t,e,i){i("rYUz"),i("kUHi"),t.exports=i("/KQr").Array.from},IHPB:function(t,e,i){"use strict";e.__esModule=!0;var s,n=i("kfHR"),a=(s=n)&&s.__esModule?s:{default:s};e.default=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return(0,a.default)(t)}},NUnD:function(t,e,i){var s=i("/KQr"),n=s.JSON||(s.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},S5NV:function(t,e,i){"use strict";var s=i("dnvE");e.__esModule=!0,e.default=void 0;var n=s(i("yMy/")),a=s(i("WTeZ")),o=i("clVn"),r=i("Ac1I"),l=i("XQSm"),c=i("tUXb"),u=s(i("I1fx")),f=(0,o.use)("cell"),h=f[0],d=f[1];function m(t,e,i,s){var n=e.icon,r=e.size,f=e.title,h=e.label,m=e.value,p=e.isLink,v=e.arrowDirection,g=i.title||(0,o.isDef)(f),_=i.default||(0,o.isDef)(m),b=(i.label||(0,o.isDef)(h))&&t("div",{class:[d("label"),e.labelClass]},[i.label?i.label():h]),A=g&&t("div",{class:[d("title"),e.titleClass]},[i.title?i.title():t("span",[f]),b]),y=_&&t("div",{class:[d("value",{alone:!i.title&&!f}),e.valueClass]},[i.default?i.default():t("span",[m])]),C=i.icon?i.icon():n&&t(u.default,{class:d("left-icon"),attrs:{name:n}}),k=i["right-icon"],x=k?k():p&&t(u.default,{class:d("right-icon"),attrs:{name:v?"arrow-"+v:"arrow"}}),D={center:e.center,required:e.required,borderless:!e.border,clickable:p||e.clickable};return r&&(D[r]=r),t("div",(0,a.default)([{class:d(D),on:{click:function(t){(0,l.emit)(s,"click",t),(0,c.functionalRoute)(s)}}},(0,l.inherit)(s)]),[C,A,y,x,i.extra&&i.extra()])}m.props=(0,n.default)({},r.cellProps,c.routeProps,{clickable:Boolean,arrowDirection:String});var p=h(m);e.default=p},UJ2L:function(t,e,i){"use strict";var s=i("0hE2"),n=i("0ZA2");t.exports=function(t,e,i){e in t?s.f(t,e,n(0,i)):t[e]=i}},Wg1s:function(t,e,i){"use strict";var s=i("dnvE");e.__esModule=!0,e.default=void 0;var n=s(i("yMy/")),a=s(i("WTeZ")),o=i("clVn"),r=i("XQSm"),l=i("a1mP"),c=s(i("I1fx")),u=s(i("QcL9")),f=s(i("5C2I")),h=(0,o.use)("actionsheet"),d=h[0],m=h[1];function p(t,e,i,s){var n=e.title,o=e.cancelText,l=function(){(0,r.emit)(s,"input",!1),(0,r.emit)(s,"cancel")};return t(f.default,(0,a.default)([{class:m(),attrs:{value:e.value,position:"bottom",overlay:e.overlay,lazyRender:e.lazyRender,getContainer:e.getContainer,closeOnClickOverlay:e.closeOnClickOverlay},on:{input:function(t){(0,r.emit)(s,"input",t)}}},(0,r.inherit)(s)]),[n?t("div",{class:[m("header"),"van-hairline--top-bottom"]},[n,t(c.default,{attrs:{name:"close"},class:m("close"),on:{click:l}})]):e.actions.map(function(e,i){return t("div",{class:[m("item",{disabled:e.disabled||e.loading}),e.className,"van-hairline--top"],on:{click:function(t){t.stopPropagation(),e.disabled||e.loading||(e.callback&&e.callback(e),(0,r.emit)(s,"select",e,i))}}},[e.loading?t(u.default,{class:m("loading"),attrs:{size:"20px"}}):[t("span",{class:m("name")},[e.name]),e.subname&&t("span",{class:m("subname")},[e.subname])]])}),i.default&&t("div",{class:m("content")},[i.default()]),o&&t("div",{class:m("cancel"),on:{click:l}},[o])])}p.props=(0,n.default)({},l.PopupMixin.props,{title:String,actions:Array,cancelText:String,overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}});var v=d(p);e.default=v},eHRK:function(t,e,i){"use strict";var s=i("dnvE");e.__esModule=!0,e.default=void 0;var n=s(i("WTeZ")),a=s(i("yMy/")),o=i("clVn"),r=s(i("I1fx")),l=s(i("S5NV")),c=i("Ac1I"),u=(0,o.use)("field"),f=u[0],h=u[1],d=f({inheritAttrs:!1,props:(0,a.default)({},c.cellProps,{error:Boolean,leftIcon:String,rightIcon:String,readonly:Boolean,clearable:Boolean,labelAlign:String,inputAlign:String,onIconClick:Function,autosize:[Boolean,Object],errorMessage:String,errorMessageAlign:String,type:{type:String,default:"text"}}),data:function(){return{focused:!1}},watch:{value:function(){this.$nextTick(this.adjustSize)}},mounted:function(){this.format(),this.$nextTick(this.adjustSize)},computed:{showClear:function(){return this.clearable&&this.focused&&""!==this.value&&(0,o.isDef)(this.value)&&!this.readonly},listeners:function(){return(0,a.default)({},this.$listeners,{input:this.onInput,keypress:this.onKeypress,focus:this.onFocus,blur:this.onBlur})}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},format:function(t){void 0===t&&(t=this.$refs.input);var e=t.value,i=this.$attrs.maxlength;return"number"===this.type&&(0,o.isDef)(i)&&e.length>i&&(e=e.slice(0,i),t.value=e),e},onInput:function(t){this.$emit("input",this.format(t.target))},onFocus:function(t){this.focused=!0,this.$emit("focus",t),this.readonly&&this.blur()},onBlur:function(t){this.focused=!1,this.$emit("blur",t)},onClickLeftIcon:function(){this.$emit("click-left-icon")},onClickRightIcon:function(){this.$emit("click-icon"),this.$emit("click-right-icon"),this.onIconClick&&this.onIconClick()},onClear:function(t){t.preventDefault(),this.$emit("input",""),this.$emit("clear")},onKeypress:function(t){if("number"===this.type){var e=t.keyCode,i=-1===String(this.value).indexOf(".");e>=48&&e<=57||46===e&&i||45===e||t.preventDefault()}"search"===this.type&&13===t.keyCode&&this.blur(),this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if("textarea"===this.type&&this.autosize&&t){t.style.height="auto";var e=t.scrollHeight;if((0,o.isObj)(this.autosize)){var i=this.autosize,s=i.maxHeight,n=i.minHeight;s&&(e=Math.min(e,s)),n&&(e=Math.max(e,n))}e&&(t.style.height=e+"px")}},renderInput:function(){var t=this.$createElement,e={ref:"input",class:h("control",this.inputAlign),domProps:{value:this.value},attrs:(0,a.default)({},this.$attrs,{readonly:this.readonly}),on:this.listeners};return"textarea"===this.type?t("textarea",(0,n.default)([{},e])):t("input",(0,n.default)([{attrs:{type:this.type}},e]))},renderLeftIcon:function(){var t=this.$createElement;if(this.slots("left-icon")||this.leftIcon)return t("div",{class:h("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||t(r.default,{attrs:{name:this.leftIcon}})])},renderRightIcon:function(){var t=this.$createElement,e=this.slots;if(e("right-icon")||e("icon")||this.rightIcon||this.icon)return t("div",{class:h("right-icon"),on:{click:this.onClickRightIcon}},[e("right-icon")||e("icon")||t(r.default,{attrs:{name:this.rightIcon||this.icon}})])}},render:function(t){var e,i=this.slots,s=this.labelAlign,n={icon:this.renderLeftIcon};return i("label")&&(n.title=function(){return i("label")}),t(l.default,{attrs:{icon:this.leftIcon,size:this.size,title:this.label,center:this.center,border:this.border,isLink:this.isLink,required:this.required,titleClass:h("label",s)},class:h((e={error:this.error,disabled:this.$attrs.disabled},e["label-"+s]=s,e["min-height"]="textarea"===this.type&&!this.autosize,e)),scopedSlots:n},[t("div",{class:h("body")},[this.renderInput(),this.showClear&&t(r.default,{attrs:{name:"clear"},class:h("clear"),on:{touchstart:this.onClear}}),this.renderRightIcon(),i("button")&&t("div",{class:h("button")},[i("button")])]),this.errorMessage&&t("div",{class:h("error-message",this.errorMessageAlign)},[this.errorMessage])])}});e.default=d},el00:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("IHPB"),n=i.n(s),a=i("3cXf"),o=i.n(a),r=i("aA9S"),l=i.n(r),c=i("gyMJ"),u=i("Wg1s"),f=i.n(u),h=i("eHRK"),d=i.n(h),m=i("I1fx"),p=i.n(m),v=(i("wtti"),i("oP5s"),{data:function(){return{show:!1,formData:{student_name:"",phone:"",remark:"",grade:[],subject:[],campus:[]},showOptions:{has_campus:"0",has_comment:"0",has_grade:"0",has_mobile:"0",has_name:"0",has_subject:"0"},formOptions:{grade:[],subject:[],campus:[]},title:"",type:"",actions:[]}},components:{"van-actionsheet":f.a,"van-icon":p.a,"van-field":d.a},created:function(){console.log(this.$route),this.form_id=this.$route.query.form_id,this.getPageData()},methods:{formValidate:function(){var t="",e=l()({},this.formData),i=l()({},this.showOptions);return e.student_name?11!==e.phone.length?t="请填写11位电话号码":1!=i.has_subject||e.subject.length?1!=i.has_campus||e.campus.length?1!=i.has_grade||e.grade.length||(t="请选择年级"):t="请选择校区":t="请选择科目":t="请填写学生姓名",!t.length||(this.$toast.fail(t),!1)},getPageData:function(){var t=this,e=this.form_id;Object(c.a)({id:e}).then(function(e){for(var i in console.log(e),t.user_id=e.data.user_id,t.title=e.data.title,t.formOptions)t.formOptions[i]=e.data[i];for(var s in t.showOptions)t.showOptions[s]=e.data[s]})},submit:function(){var t=this;if(this.formValidate()){var e=this.formData,i=e.grade[0]?[e.grade[0].id]:[],s=e.campus[0]?[e.campus[0].id]:[],n=(e.subject.length&&e.subject,{user_id:this.user_id,form_id:this.form_id,student_name:e.student_name,phone:e.phone,remark:e.remark,grade:o()(i),campus:o()(s),subject:o()(e.subject)});Object(c.e)(n).then(function(e){t.$toast.success("提交成功")}).catch(function(e){console.log(e),t.$toast.fail("提交失败,"+e)})}},showAction:function(t){this.type=t,this.actions=this.formOptions[t],this.show=!0},onSelect:function(t){console.log(t),this.formData[this.type][0]=t,this.show=!1},checkboxClick:function(t){console.log(t);var e=[].concat(n()(this.formData.subject)),i=e.indexOf(t.id);-1!==i?e.splice(i,1):e.push(t.id),this.formData.subject=e}}}),g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"parent_form"},[s("div",{staticClass:"page_title"},[t._v(t._s(t.title))]),t._v(" "),s("div",{staticClass:"form"},[1==t.showOptions.has_name?s("div",{staticClass:"form_item"},[s("span",{staticClass:"title"},[t._v("姓名")]),t._v(" "),s("div",{staticClass:"form_component"},[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.formData.student_name,expression:"formData.student_name",modifiers:{lazy:!0}}],attrs:{type:"text",placeholder:"输入姓名",maxlength:"8"},domProps:{value:t.formData.student_name},on:{change:function(e){return t.$set(t.formData,"student_name",e.target.value)}}})])]):t._e(),t._v(" "),1==t.showOptions.has_mobile?s("div",{staticClass:"form_item"},[s("span",{staticClass:"title"},[t._v("手机号")]),t._v(" "),s("div",{staticClass:"form_component"},[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.formData.phone,expression:"formData.phone",modifiers:{lazy:!0}}],attrs:{type:"number",placeholder:"输入手机号",maxlength:"11",max:"11"},domProps:{value:t.formData.phone},on:{change:function(e){return t.$set(t.formData,"phone",e.target.value)}}})])]):t._e(),t._v(" "),1==t.showOptions.has_grade?s("div",{staticClass:"form_item"},[s("span",{staticClass:"title"},[t._v("年级")]),t._v(" "),s("div",{staticClass:"form_component"},[s("button",{on:{click:function(e){return t.showAction("grade")}}},[t._v("\n          "+t._s(t.formData.grade[0]?t.formData.grade[0].name:"选择年级")+"\n          "),s("img",{staticClass:"icon",attrs:{src:i("nK/p")}})])])]):t._e(),t._v(" "),1==t.showOptions.has_subject?s("div",{staticClass:"subject_group"},[s("p",{staticClass:"title"},[t._v("选择科目")]),t._v(" "),s("div",{staticClass:"check_group"},t._l(t.formOptions.subject,function(e){return s("div",{key:e.id,staticClass:"checkbox_item",on:{click:function(i){return t.checkboxClick(e)}}},[s("div",{staticClass:"checkbox",class:-1!==t.formData.subject.indexOf(e.id)?"checkbox_active":""},[s("van-icon",{attrs:{name:"success"}})],1),t._v(" "),s("span",[t._v(t._s(e.name))])])}),0)]):t._e(),t._v(" "),1==t.showOptions.has_campus?s("div",{staticClass:"form_item"},[s("span",{staticClass:"title"},[t._v("校区")]),t._v(" "),s("div",{staticClass:"form_component"},[s("button",{on:{click:function(e){return t.showAction("campus")}}},[t._v("\n          "+t._s(t.formData.campus[0]?t.formData.campus[0].name:"选择校区")+"\n          "),s("img",{staticClass:"icon",attrs:{src:i("nK/p")}})])])]):t._e(),t._v(" "),1==t.showOptions.has_comment?s("div",{staticClass:"form_item"},[s("span",{staticClass:"title"},[t._v("备注")]),t._v(" "),s("div",{staticClass:"form_component"},[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.formData.remark,expression:"formData.remark",modifiers:{lazy:!0}}],attrs:{type:"text",placeholder:"输入备注",maxlength:"20"},domProps:{value:t.formData.remark},on:{change:function(e){return t.$set(t.formData,"remark",e.target.value)}}})])]):t._e()]),t._v(" "),s("van-actionsheet",{attrs:{actions:t.actions},on:{select:t.onSelect},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}}),t._v(" "),s("div",{staticClass:"bottom",on:{click:t.submit}},[t._v("提交")])],1)},staticRenderFns:[]};var _=i("C7Lr")(v,g,!1,function(t){i("oIJU")},"data-v-647ea0f2",null);e.default=_.exports},kUHi:function(t,e,i){"use strict";var s=i("I1yF"),n=i("2AZ7"),a=i("A2+p"),o=i("Hgu4"),r=i("1Hpz"),l=i("6f6n"),c=i("UJ2L"),u=i("jdnV");n(n.S+n.F*!i("Utzn")(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,n,f,h=a(t),d="function"==typeof this?this:Array,m=arguments.length,p=m>1?arguments[1]:void 0,v=void 0!==p,g=0,_=u(h);if(v&&(p=s(p,m>2?arguments[2]:void 0,2)),void 0==_||d==Array&&r(_))for(i=new d(e=l(h.length));e>g;g++)c(i,g,v?p(h[g],g):h[g]);else for(f=_.call(h),i=new d;!(n=f.next()).done;g++)c(i,g,v?o(f,p,[n.value,g],!0):n.value);return i.length=g,i}})},kfHR:function(t,e,i){t.exports={default:i("FCbr"),__esModule:!0}},"nK/p":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAClUlEQVR4Xu2YzXHbMBCFFzyIx7gDxxXEriByB3YFMS9a6JSUkFSQ+ERCFzkVJB3EriBOBXY68FU6EBlkQA9MixyCxA9nsDoDu/s+vF0IZJD4jyWuHwgAOSBxAtQCiRuAhiC1ALVA4gSoBRI3AN0C1ALUAokToBZI3AB0C1AL2LTAZrM5lVL+0nsKRPxps9/X2rIsr7Is+zqmLisHVFX1wBh7awi5jA1Bi982NUkpHznnJ0NhWwEQQjwCwLER/Ikxdr5are6HJnS5ri1ex/6LiOYh9aa0BXABAD9aEaNA0O34+4A6K1daAVDJOqgHhWDMoiMTQF3XxXq9vrFxmTUAFVwI8QkAmqHzP5/qvTzPz4qieLIpwHatS/Eq9ygAGoIi/aEl4H6xWJz7guBa/CQAoSH4ED8ZQB8ERDyztXfXel/inQDQEG4B4L0pQEp5wzkvpkLoEi+lvOacq1k06Td6BphZt9vt0W63u2WMvXMJoUs8AHxHxKtJyvVmJwBULNcQVLz9fv8AAC+uOpfinbVAcxJdEADgCyJ+HnpiWrx6c5y29jg7+SauMwc0AbVt1Ux4YxY/9E9KSPHOHTAVQmjx3gCowLZOiCHeKwAVvCzLZZZlzfeDxiCv3g2xxHsHoCGojxXP73VN4RlCj/g7RFwOHZxj1zkfgocK6XpB1nV9qb/kvJj2Uso/eZ4vfb0pzBqDAOhxwiteIcUHaQFTYVVV3xhjH7vsGlp8cAAqoRDi0DNafU8IZvsoLWAmbUOIJT6KAxoQDYSY4qMCUMnVFRhi0vddkcFugbH3tO99BMA34bnHJwfM/YR810cO8E147vHJAXM/Id/1kQN8E557fHLA3E/Id33kAN+E5x6fHDD3E/JdX/IO+Af3OmdQY77oTwAAAABJRU5ErkJggg=="},oIJU:function(t,e){},oP5s:function(t,e,i){i("lFy3")},tUXb:function(t,e,i){"use strict";function s(t,e){var i=e.to,s=e.url,n=e.replace;i&&t?t[n?"replace":"push"](i):s&&(n?location.replace(s):location.href=s)}e.__esModule=!0,e.route=s,e.functionalRoute=function(t){s(t.parent&&t.parent.$router,t.props)},e.routeProps=void 0;var n={url:String,replace:Boolean,to:[String,Object]};e.routeProps=n},wtti:function(t,e,i){i("lFy3"),i("6eJf"),i("2n62")}});
//# sourceMappingURL=2.c08359f35adb6252d9f9.js.map